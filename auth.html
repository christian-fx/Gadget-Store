<!DOCTYPE html>
<html class="light" lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>Go Gadgets — Sign In or Create Account</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
    rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
    rel="stylesheet" />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#2b8cee",
            "background-light": "#f6f8f8",
            "background-dark": "#101d22",
            "surface-dark": "#1a2c32",
          },
          fontFamily: {
            "display": ["Inter", "sans-serif"]
          },
        },
      },
    }
  </script>

  <style>
    .material-symbols-outlined {
      font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }

    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background-color: #cbd5e1;
      border-radius: 20px;
    }

    .tab-content {
      transition: opacity 0.3s ease;
    }

    /* Toast notification */
    .toast-notification {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      min-width: 300px;
      max-width: 90%;
    }

    /* Loading spinner */
    .loading-spinner {
      width: 16px;
      height: 16px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s linear infinite;
    }

    .toast-progress-bar {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 3px;
      background: rgba(255, 255, 255, 0.5);
      animation: progress linear forwards;
    }

    .btn-disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    @keyframes progress {
      0% {
        width: 100%;
      }

      100% {
        width: 0%;
      }
    }

    @keyframes fadeIn {
      0% {
        opacity: 0;
        transform: translateY(10px);
      }

      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideDown {
      0% {
        opacity: 0;
        transform: translateY(-10px);
      }

      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes shake {

      0%,
      100% {
        transform: translateX(0);
      }

      25% {
        transform: translateX(-5px);
      }

      75% {
        transform: translateX(5px);
      }
    }

    /* ─── No rotation — static iPhone display ─── */

    /* Gradient text */
    .gradient-text {
      background: linear-gradient(135deg, #2b8cee, #6366f1, #8b5cf6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
  </style>
</head>

<body class="font-display bg-white min-h-screen flex">

  <!-- Maintenance Mode Banner -->
  <div id="maintenanceBanner"
    class="hidden fixed inset-0 z-[9999] bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex flex-col items-center justify-center text-center p-8">
    <div class="w-20 h-20 bg-primary/10 rounded-2xl flex items-center justify-center mb-6">
      <span class="material-symbols-outlined text-primary text-5xl">engineering</span>
    </div>
    <h1 class="text-white text-3xl font-bold mb-3">Under Maintenance</h1>
    <p id="maintenanceBannerMsg" class="text-slate-400 text-lg max-w-md">We're currently performing maintenance. We'll
      be back soon!</p>
  </div>
  <script>
      (function () {
        try {
          var raw = localStorage.getItem('gadget_admin_settings');
          if (raw) {
            var s = JSON.parse(raw);
            if (s.maintenanceMode) {
              var banner = document.getElementById('maintenanceBanner');
              if (banner) {
                banner.classList.remove('hidden');
                if (s.maintenanceMessage) {
                  document.getElementById('maintenanceBannerMsg').textContent = s.maintenanceMessage;
                }
              }
            }
          }
        } catch (e) { }
      })();
  </script>

  <!-- Toast Container -->
  <div id="toastContainer" class="toast-notification"></div>

  <!-- ═══════════════════════════════════════════════════════════════ -->
  <!-- LEFT PANEL — iPhone showcase (static, no rotation)             -->
  <!-- ═══════════════════════════════════════════════════════════════ -->
  <div
    class="hidden lg:flex w-1/2 relative bg-gradient-to-br from-slate-900 via-slate-800 to-slate-950 flex-col items-center justify-center overflow-hidden">

    <!-- iPhone Image — static, full display -->
    <div class="relative z-10 flex items-center justify-center">
      <img src="https://images.unsplash.com/photo-1695048133142-1a20484d2569?w=500&h=750&fit=crop&q=90"
        alt="iPhone 15 Pro Max" class="w-72 h-auto object-contain"
        style="filter: drop-shadow(0 40px 80px rgba(0, 0, 0, 0.5));" />
    </div>

    <!-- Text content below phone -->
    <div class="relative z-10 mt-10 text-center px-8">
      <h2 class="text-3xl font-extrabold text-white mb-3">
        iPhone 15 Pro Max
      </h2>
      <p class="text-slate-400 text-base max-w-sm mx-auto leading-relaxed">
        Titanium. So strong. So light. Featuring the A17 Pro chip, 48MP camera system, and an all-new titanium design.
      </p>
      <div class="flex items-center justify-center gap-6 mt-6">
        <div class="text-center">
          <p class="text-2xl font-bold gradient-text">48MP</p>
          <p class="text-xs text-slate-500 mt-1">Camera</p>
        </div>
        <div class="w-px h-10 bg-slate-700"></div>
        <div class="text-center">
          <p class="text-2xl font-bold gradient-text">A17 Pro</p>
          <p class="text-xs text-slate-500 mt-1">Chip</p>
        </div>
        <div class="w-px h-10 bg-slate-700"></div>
        <div class="text-center">
          <p class="text-2xl font-bold gradient-text">Ti</p>
          <p class="text-xs text-slate-500 mt-1">Titanium</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ═══════════════════════════════════════════════════════════════ -->
  <!-- RIGHT PANEL — Login / Sign Up Forms                            -->
  <!-- ═══════════════════════════════════════════════════════════════ -->
  <div class="w-full lg:w-1/2 flex flex-col items-center justify-center min-h-screen p-6 sm:p-10 bg-slate-50">

    <!-- Logo + Heading -->
    <div class="w-full max-w-[480px] mb-8">
      <a href="/" class="flex items-center gap-2 text-primary font-bold text-xl mb-8">
        <span class="material-symbols-outlined text-[28px]">bolt</span>
        Go Gadgets
      </a>
      <div id="authHeading">
        <h1 class="text-3xl font-extrabold text-slate-900 tracking-tight">Welcome back</h1>
        <p class="text-slate-500 mt-2 text-base">Sign in to your account to continue shopping</p>
      </div>
    </div>

    <!-- Auth Card -->
    <div
      class="w-full max-w-[480px] bg-white shadow-xl shadow-slate-200/50 rounded-2xl overflow-hidden border border-slate-100">

      <!-- Tabs -->
      <div class="flex border-b border-slate-200">
        <button id="signInTab"
          class="flex-1 py-4 text-center border-b-[3px] border-primary text-slate-900 font-bold text-sm tracking-wide transition-colors hover:bg-slate-50">
          Sign In
        </button>
        <button id="signUpTab"
          class="flex-1 py-4 text-center border-b-[3px] border-transparent text-slate-400 font-bold text-sm tracking-wide transition-colors hover:text-slate-700 hover:bg-slate-50">
          Sign Up
        </button>
      </div>

      <!-- Sign In Form -->
      <form id="signInForm" class="tab-content p-6 sm:p-8 flex flex-col gap-5">
        <!-- Email -->
        <div class="flex flex-col gap-2">
          <label class="text-slate-900 text-sm font-semibold" for="signin-email">Email Address</label>
          <div class="relative">
            <span
              class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-[20px]">mail</span>
            <input
              class="form-input w-full rounded-xl text-slate-900 placeholder:text-slate-400 focus:outline-0 focus:ring-2 focus:ring-primary/30 focus:border-primary border border-slate-200 h-12 pl-11 pr-4 text-sm transition-all bg-slate-50 focus:bg-white"
              id="signin-email" placeholder="you@email.com" type="email" required />
          </div>
          <div id="signin-email-error" class="text-red-500 text-sm hidden"></div>
        </div>

        <!-- Password -->
        <div class="flex flex-col gap-2">
          <label class="text-slate-900 text-sm font-semibold" for="signin-password">Password</label>
          <div class="relative">
            <span
              class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-[20px]">lock</span>
            <input
              class="form-input w-full rounded-xl text-slate-900 placeholder:text-slate-400 focus:outline-0 focus:ring-2 focus:ring-primary/30 focus:border-primary border border-slate-200 h-12 pl-11 pr-12 text-sm transition-all bg-slate-50 focus:bg-white"
              id="signin-password" placeholder="••••••••" type="password" required />
            <button type="button"
              class="toggle-password absolute right-0 top-0 bottom-0 px-4 flex items-center justify-center text-slate-400 hover:text-primary transition-colors">
              <span class="material-symbols-outlined text-[20px]">visibility</span>
            </button>
          </div>
          <div id="signin-password-error" class="text-red-500 text-sm hidden"></div>
        </div>

        <!-- Admin Key (hidden by default) -->
        <div id="admin-key-container" class="flex flex-col gap-2 hidden">
          <label class="text-slate-900 text-sm font-semibold flex items-center gap-2" for="admin-key">
            Admin Key
            <span class="text-slate-400 text-xs font-normal">(Required for admin access)</span>
          </label>
          <div class="relative">
            <span
              class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-[20px]">vpn_key</span>
            <input
              class="form-input w-full rounded-xl text-slate-900 placeholder:text-slate-400 focus:outline-0 focus:ring-2 focus:ring-primary/30 focus:border-primary border border-slate-200 h-12 pl-11 pr-12 text-sm transition-all bg-slate-50 focus:bg-white"
              id="admin-key" placeholder="Enter admin key" type="password" />
            <button type="button"
              class="toggle-password absolute right-0 top-0 bottom-0 px-4 flex items-center justify-center text-slate-400 hover:text-primary transition-colors">
              <span class="material-symbols-outlined text-[20px]">visibility</span>
            </button>
          </div>
          <div id="admin-key-error" class="text-red-500 text-sm hidden"></div>
        </div>

        <!-- Actions -->
        <div class="flex items-center justify-between">
          <label class="inline-flex items-center cursor-pointer group">
            <input class="form-checkbox h-4 w-4 text-primary border-slate-300 rounded focus:ring-primary"
              type="checkbox" id="remember-me" />
            <span class="ml-2 text-sm text-slate-600 group-hover:text-primary transition-colors">Keep me logged
              in</span>
          </label>
          <a class="text-sm font-semibold text-primary hover:text-primary/80 transition-colors" href="#"
            id="forgot-password">Forgot Password?</a>
        </div>

        <!-- Submit -->
        <button id="signInButton"
          class="w-full h-12 bg-primary hover:bg-blue-600 text-white text-sm font-bold rounded-xl shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 transition-all duration-200 mt-1 flex items-center justify-center gap-2"
          type="submit">
          <span id="signInText">Sign In</span>
          <span id="signInIcon" class="material-symbols-outlined text-[20px]">login</span>
          <div id="signInSpinner" class="loading-spinner hidden"></div>
        </button>

        <!-- Footer -->
        <p class="text-slate-500 text-sm text-center mt-1">
          Don't have an account?
          <button type="button" class="text-primary font-bold hover:underline switch-to-signup">Sign Up</button>
        </p>
      </form>

      <!-- Sign Up Form -->
      <form id="signUpForm" class="tab-content p-6 sm:p-8 flex flex-col gap-5 hidden">
        <!-- Name Row -->
        <div class="flex flex-col sm:flex-row gap-4">
          <label class="flex flex-col flex-1">
            <p class="text-slate-900 text-sm font-semibold pb-2">First Name *</p>
            <input
              class="form-input w-full rounded-xl text-slate-900 placeholder:text-slate-400 focus:outline-0 focus:ring-2 focus:ring-primary/30 focus:border-primary border border-slate-200 h-12 px-4 text-sm transition-all bg-slate-50 focus:bg-white"
              placeholder="First name" type="text" id="first-name" required />
            <div id="first-name-error" class="text-red-500 text-sm hidden"></div>
          </label>
          <label class="flex flex-col flex-1">
            <p class="text-slate-900 text-sm font-semibold pb-2">Last Name *</p>
            <input
              class="form-input w-full rounded-xl text-slate-900 placeholder:text-slate-400 focus:outline-0 focus:ring-2 focus:ring-primary/30 focus:border-primary border border-slate-200 h-12 px-4 text-sm transition-all bg-slate-50 focus:bg-white"
              placeholder="Last name" type="text" id="last-name" required />
            <div id="last-name-error" class="text-red-500 text-sm hidden"></div>
          </label>
        </div>

        <!-- Email -->
        <label class="flex flex-col w-full">
          <p class="text-slate-900 text-sm font-semibold pb-2">Email Address *</p>
          <div class="relative">
            <span
              class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-[20px]">mail</span>
            <input
              class="form-input w-full rounded-xl text-slate-900 placeholder:text-slate-400 focus:outline-0 focus:ring-2 focus:ring-primary/30 focus:border-primary border border-slate-200 h-12 pl-11 pr-4 text-sm transition-all bg-slate-50 focus:bg-white"
              placeholder="you@email.com" type="email" id="signup-email" required />
          </div>
          <div id="signup-email-error" class="text-red-500 text-sm hidden"></div>
        </label>

        <!-- Phone -->
        <label class="flex flex-col w-full">
          <p class="text-slate-900 text-sm font-semibold pb-2">Phone Number</p>
          <div class="relative">
            <span
              class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-[20px]">phone</span>
            <input
              class="form-input w-full rounded-xl text-slate-900 placeholder:text-slate-400 focus:outline-0 focus:ring-2 focus:ring-primary/30 focus:border-primary border border-slate-200 h-12 pl-11 pr-4 text-sm transition-all bg-slate-50 focus:bg-white"
              placeholder="+1 (555) 000-0000" type="tel" id="phone" />
            <div id="phone-error" class="text-red-500 text-sm hidden"></div>
          </div>
        </label>

        <!-- Passwords -->
        <div class="flex flex-col sm:flex-row gap-4">
          <label class="flex flex-col flex-1">
            <p class="text-slate-900 text-sm font-semibold pb-2">Password *</p>
            <div class="relative w-full">
              <span
                class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-[20px]">lock</span>
              <input
                class="form-input w-full rounded-xl text-slate-900 placeholder:text-slate-400 focus:outline-0 focus:ring-2 focus:ring-primary/30 focus:border-primary border border-slate-200 h-12 pl-11 pr-10 text-sm transition-all bg-slate-50 focus:bg-white"
                placeholder="Min. 6 characters" type="password" id="signup-password" required />
              <button type="button"
                class="toggle-password absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-primary transition-colors flex items-center justify-center">
                <span class="material-symbols-outlined text-[20px]">visibility</span>
              </button>
            </div>
            <div id="signup-password-error" class="text-red-500 text-sm hidden"></div>
          </label>
          <label class="flex flex-col flex-1">
            <p class="text-slate-900 text-sm font-semibold pb-2">Confirm Password *</p>
            <div class="relative w-full">
              <span
                class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-[20px]">lock</span>
              <input
                class="form-input w-full rounded-xl text-slate-900 placeholder:text-slate-400 focus:outline-0 focus:ring-2 focus:ring-primary/30 focus:border-primary border border-slate-200 h-12 pl-11 pr-10 text-sm transition-all bg-slate-50 focus:bg-white"
                placeholder="Confirm password" type="password" id="confirm-password" required />
              <button type="button"
                class="toggle-password absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-primary transition-colors flex items-center justify-center">
                <span class="material-symbols-outlined text-[20px]">visibility</span>
              </button>
            </div>
            <div id="confirm-password-error" class="text-red-500 text-sm hidden"></div>
          </label>
        </div>

        <!-- Terms -->
        <div class="flex items-start gap-3">
          <div class="flex items-center h-5">
            <input class="w-4 h-4 rounded border-slate-300 text-primary focus:ring-primary" id="terms" type="checkbox"
              required />
          </div>
          <label class="text-sm text-slate-600 leading-tight" for="terms">
            I agree to the <a class="text-primary font-medium hover:underline" href="#">Terms of Service</a> and <a
              class="text-primary font-medium hover:underline" href="#">Privacy Policy</a>.
          </label>
        </div>
        <div id="terms-error" class="text-red-500 text-sm hidden"></div>

        <!-- Submit -->
        <button id="signUpButton"
          class="w-full h-12 bg-primary hover:bg-blue-600 text-white text-sm font-bold rounded-xl shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 transition-all duration-200 mt-1 flex items-center justify-center gap-2"
          type="submit">
          <span id="signUpText">Create Account</span>
          <div id="signUpSpinner" class="loading-spinner hidden ml-2"></div>
        </button>

        <!-- Footer -->
        <p class="text-slate-500 text-sm text-center mt-1">
          Already have an account?
          <button type="button" class="text-primary font-bold hover:underline switch-to-signin">Sign In</button>
        </p>
      </form>

    </div> <!-- End Auth Card -->

    <!-- Copyright -->
    <p class="text-center text-xs text-slate-400 mt-6">
      © 2024 Go Gadgets Inc. All rights reserved.
    </p>
  </div>

  <!-- Auth JavaScript -->
  <script type="module" src="/src/js/authentication/auth.js"></script>

  <!-- Dynamic heading update on tab switch -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const heading = document.getElementById('authHeading');
      const signInTab = document.getElementById('signInTab');
      const signUpTab = document.getElementById('signUpTab');

      function updateHeading(tab) {
        if (tab === 'signin') {
          heading.innerHTML = '<h1 class="text-3xl font-extrabold text-slate-900 tracking-tight">Welcome back</h1><p class="text-slate-500 mt-2 text-base">Sign in to your account to continue shopping</p>';
        } else {
          heading.innerHTML = '<h1 class="text-3xl font-extrabold text-slate-900 tracking-tight">Create an account</h1><p class="text-slate-500 mt-2 text-base">Join Go Gadgets for exclusive deals and faster checkout</p>';
        }
      }

      // Listen for tab clicks (the auth.js handles showing/hiding forms, we just update heading)
      if (signInTab) signInTab.addEventListener('click', () => updateHeading('signin'));
      if (signUpTab) signUpTab.addEventListener('click', () => updateHeading('signup'));

      // Also handle the "switch-to" links
      document.querySelectorAll('.switch-to-signup').forEach(btn => btn.addEventListener('click', () => updateHeading('signup')));
      document.querySelectorAll('.switch-to-signin').forEach(btn => btn.addEventListener('click', () => updateHeading('signin')));
    });
  </script>
</body>

</html>